# SPEC-Q Framework
**AIエージェント向け効率的要求ヒアリング手法**

## フレームワーク概要
SPEC-Q = **S**cope + **P**riority + **E**xample + **C**onstraint + **Q**uality Questions

最小限の質問で最大限の仕様明確化を実現する。

## 基本原則
1. **推論優先** - エージェントが仮定を提示、ユーザーは修正のみ
2. **段階的詳細化** - 完璧なSPECを最初から求めない
3. **コンテキスト活用** - 既存コード・慣例から推測
4. **選択肢提示** - Yes/No質問を避け、選択肢を用意

## ヒアリング手順

### Phase 1: Scope (範囲確認)
**目的**: 何をするか/しないかの境界線を引く
**質問例**:
- "〜を実現したいという理解で合っていますか？"
- "この機能は[A/B/C]のどれに近いですか？"
- "対象外にしたい部分はありますか？"

### Phase 2: Priority (優先度確認)
**目的**: Must/Should/Couldの区別
**質問例**:
- "最低限動けばよい部分と、品質にこだわる部分を教えてください"
- "時間が足りない場合、どの部分を後回しにしますか？"

### Phase 3: Example (具体例確認)
**目的**: 抽象的な要求を具体化
**質問例**:
- "典型的な使用例を1つ教えてください"
- "入力例と期待する出力例を示してください"
- "エラーになるケースの例はありますか？"

### Phase 4: Constraint (制約確認)
**目的**: 技術的・業務的制限の把握
**質問例**:
- "使ってはいけない技術・ライブラリはありますか？"
- "パフォーマンス要件はありますか？"
- "既存システムとの互換性で気をつけることは？"

### Phase 5: Quality Questions (品質確認)
**目的**: 完了基準の明確化
**質問例**:
- "どうなれば完成とみなしますか？"
- "テスト方法はどうしますか？"
- "運用開始前に確認したいことは？"

## 効率化テクニック

### 仮定提示法
```
❌ "どのような機能が必要ですか？"
✅ "ユーザー認証機能として、メール+パスワードでのログインを想定していますが、他の方式も必要ですか？"
```

### 選択肢提示法
```
❌ "エラー処理はどうしますか？"
✅ "エラー時の対応は [A]ログ出力のみ [B]ユーザー通知 [C]管理者アラート のどれが適切ですか？"
```

### 既存パターン活用法
```
✅ "このプロジェクトの他の機能と同様に、設定ファイルでの制御を想定していますが問題ありませんか？"
```

## 質問回数の目安
- **簡単なタスク**: 2-3回の質問
- **中規模機能**: 5-7回の質問  
- **大規模機能**: 10回以内の質問

## 注意点
- 完璧を求めすぎない
- 実装中の追加質問は自然
- ユーザーの負担を最小化
- エージェントの推論能力を最大活用

---
**Created**: 2025-09-22
